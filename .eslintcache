[{"/Users/boyang/code/react/fake-jira/src/index.tsx":"1","/Users/boyang/code/react/fake-jira/src/reportWebVitals.ts":"2","/Users/boyang/code/react/fake-jira/src/App.tsx":"3","/Users/boyang/code/react/fake-jira/src/context/index.tsx":"4","/Users/boyang/code/react/fake-jira/src/context/user-cotext.tsx":"5","/Users/boyang/code/react/fake-jira/src/models/user.ts":"6","/Users/boyang/code/react/fake-jira/src/utils/index.ts":"7","/Users/boyang/code/react/fake-jira/src/screens/project-list/index.tsx":"8","/Users/boyang/code/react/fake-jira/src/utils/http.ts":"9","/Users/boyang/code/react/fake-jira/src/screens/project-list/search.tsx":"10","/Users/boyang/code/react/fake-jira/src/utils/use-users.ts":"11","/Users/boyang/code/react/fake-jira/src/utils/use-async.ts":"12","/Users/boyang/code/react/fake-jira/src/components/lib.tsx":"13","/Users/boyang/code/react/fake-jira/src/components/header/index.tsx":"14","/Users/boyang/code/react/fake-jira/src/screens/project/index.tsx":"15","/Users/boyang/code/react/fake-jira/src/screens/epic/index.tsx":"16","/Users/boyang/code/react/fake-jira/src/screens/kanban/index.tsx":"17","/Users/boyang/code/react/fake-jira/src/utils/use-url-params.ts":"18","/Users/boyang/code/react/fake-jira/src/router.tsx":"19","/Users/boyang/code/react/fake-jira/src/logout/index.tsx":"20","/Users/boyang/code/react/fake-jira/src/logout/register.tsx":"21","/Users/boyang/code/react/fake-jira/src/logout/login.tsx":"22","/Users/boyang/code/react/fake-jira/src/screens/project-list/use-projects-param.ts":"23","/Users/boyang/code/react/fake-jira/src/components/id-select/index.tsx":"24","/Users/boyang/code/react/fake-jira/src/components/collection/index.tsx":"25","/Users/boyang/code/react/fake-jira/src/components/alert-project-form/index.tsx":"26","/Users/boyang/code/react/fake-jira/src/models/alert.ts":"27","/Users/boyang/code/react/fake-jira/src/components/alert-project-form/project-form.tsx":"28","/Users/boyang/code/react/fake-jira/src/components/user-select/index.tsx":"29","/Users/boyang/code/react/fake-jira/src/components/err-box/index.tsx":"30","/Users/boyang/code/react/fake-jira/src/components/alert-project-form/use-alert-project.ts":"31","/Users/boyang/code/react/fake-jira/src/screens/project-list/more.tsx":"32","/Users/boyang/code/react/fake-jira/src/screens/project-list/table.tsx":"33","/Users/boyang/code/react/fake-jira/src/models/query-key.ts":"34","/Users/boyang/code/react/fake-jira/src/models/project.ts":"35","/Users/boyang/code/react/fake-jira/src/screens/kanban/utils.ts":"36","/Users/boyang/code/react/fake-jira/src/models/kanban.ts":"37","/Users/boyang/code/react/fake-jira/src/screens/kanban/kanban-column/index.tsx":"38","/Users/boyang/code/react/fake-jira/src/models/task.ts":"39","/Users/boyang/code/react/fake-jira/src/screens/kanban/task-card/index.tsx":"40","/Users/boyang/code/react/fake-jira/src/screens/kanban/kanban-search/index.tsx":"41","/Users/boyang/code/react/fake-jira/src/components/tasktype-select/index.tsx":"42","/Users/boyang/code/react/fake-jira/src/components/css-in-js/row.ts":"43","/Users/boyang/code/react/fake-jira/src/screens/kanban/task-card/task-icon.tsx":"44","/Users/boyang/code/react/fake-jira/src/screens/kanban/kanban-column/add-kanban.tsx":"45","/Users/boyang/code/react/fake-jira/src/screens/kanban/kanban-column/add-task.tsx":"46","/Users/boyang/code/react/fake-jira/src/screens/kanban/task-form/index.tsx":"47","/Users/boyang/code/react/fake-jira/src/screens/kanban/task-card/task-title.tsx":"48","/Users/boyang/code/react/fake-jira/src/screens/kanban/kanban-column/more-kanban.tsx":"49"},{"size":663,"mtime":1620985806424,"results":"50","hashOfConfig":"51"},{"size":425,"mtime":1620981622055,"results":"52","hashOfConfig":"51"},{"size":478,"mtime":1621007808552,"results":"53","hashOfConfig":"51"},{"size":465,"mtime":1620985806424,"results":"54","hashOfConfig":"51"},{"size":1576,"mtime":1620985806424,"results":"55","hashOfConfig":"51"},{"size":1938,"mtime":1620985806427,"results":"56","hashOfConfig":"51"},{"size":1471,"mtime":1620985806433,"results":"57","hashOfConfig":"51"},{"size":1385,"mtime":1620985806431,"results":"58","hashOfConfig":"51"},{"size":1298,"mtime":1620985806433,"results":"59","hashOfConfig":"51"},{"size":1315,"mtime":1620985806432,"results":"60","hashOfConfig":"51"},{"size":284,"mtime":1620985806433,"results":"61","hashOfConfig":"51"},{"size":1631,"mtime":1620985806433,"results":"62","hashOfConfig":"51"},{"size":640,"mtime":1620985806422,"results":"63","hashOfConfig":"51"},{"size":1105,"mtime":1620985806422,"results":"64","hashOfConfig":"51"},{"size":1284,"mtime":1620985806432,"results":"65","hashOfConfig":"51"},{"size":138,"mtime":1620985806427,"results":"66","hashOfConfig":"51"},{"size":1182,"mtime":1620985806427,"results":"67","hashOfConfig":"51"},{"size":780,"mtime":1620985806433,"results":"68","hashOfConfig":"51"},{"size":553,"mtime":1620985806427,"results":"69","hashOfConfig":"51"},{"size":2261,"mtime":1620985806425,"results":"70","hashOfConfig":"51"},{"size":1410,"mtime":1620985806425,"results":"71","hashOfConfig":"51"},{"size":1140,"mtime":1620985806425,"results":"72","hashOfConfig":"51"},{"size":436,"mtime":1620985806432,"results":"73","hashOfConfig":"51"},{"size":954,"mtime":1620985806422,"results":"74","hashOfConfig":"51"},{"size":460,"mtime":1620985806421,"results":"75","hashOfConfig":"51"},{"size":1486,"mtime":1620985806419,"results":"76","hashOfConfig":"51"},{"size":401,"mtime":1620985806425,"results":"77","hashOfConfig":"51"},{"size":1409,"mtime":1620985806420,"results":"78","hashOfConfig":"51"},{"size":371,"mtime":1620985806423,"results":"79","hashOfConfig":"51"},{"size":380,"mtime":1620985806421,"results":"80","hashOfConfig":"51"},{"size":823,"mtime":1620985806420,"results":"81","hashOfConfig":"51"},{"size":834,"mtime":1620985806431,"results":"82","hashOfConfig":"51"},{"size":2428,"mtime":1620985806432,"results":"83","hashOfConfig":"51"},{"size":1557,"mtime":1620985806426,"results":"84","hashOfConfig":"51"},{"size":2222,"mtime":1620985806426,"results":"85","hashOfConfig":"51"},{"size":1187,"mtime":1620985806431,"results":"86","hashOfConfig":"51"},{"size":1203,"mtime":1620985806426,"results":"87","hashOfConfig":"51"},{"size":1255,"mtime":1620985806429,"results":"88","hashOfConfig":"51"},{"size":2220,"mtime":1620985806427,"results":"89","hashOfConfig":"51"},{"size":715,"mtime":1620985806430,"results":"90","hashOfConfig":"51"},{"size":1076,"mtime":1620985806429,"results":"91","hashOfConfig":"51"},{"size":406,"mtime":1620985806423,"results":"92","hashOfConfig":"51"},{"size":613,"mtime":1620985806421,"results":"93","hashOfConfig":"51"},{"size":457,"mtime":1620985806430,"results":"94","hashOfConfig":"51"},{"size":714,"mtime":1620985806428,"results":"95","hashOfConfig":"51"},{"size":1087,"mtime":1620985806428,"results":"96","hashOfConfig":"51"},{"size":2292,"mtime":1620985806430,"results":"97","hashOfConfig":"51"},{"size":526,"mtime":1620985806430,"results":"98","hashOfConfig":"51"},{"size":698,"mtime":1620985806429,"results":"99","hashOfConfig":"51"},{"filePath":"100","messages":"101","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"102"},"4nwnzg",{"filePath":"103","messages":"104","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"102"},{"filePath":"105","messages":"106","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"107","messages":"108","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"102"},{"filePath":"109","messages":"110","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"102"},{"filePath":"111","messages":"112","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"102"},{"filePath":"113","messages":"114","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"115","usedDeprecatedRules":"102"},{"filePath":"116","messages":"117","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"102"},{"filePath":"118","messages":"119","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"102"},{"filePath":"120","messages":"121","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"102"},{"filePath":"122","messages":"123","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"102"},{"filePath":"124","messages":"125","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"102"},{"filePath":"126","messages":"127","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"102"},{"filePath":"128","messages":"129","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"102"},{"filePath":"130","messages":"131","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"102"},{"filePath":"132","messages":"133","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"102"},{"filePath":"134","messages":"135","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"136","usedDeprecatedRules":"102"},{"filePath":"137","messages":"138","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"139","usedDeprecatedRules":"102"},{"filePath":"140","messages":"141","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"142","usedDeprecatedRules":"102"},{"filePath":"143","messages":"144","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"102"},{"filePath":"145","messages":"146","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"102"},{"filePath":"147","messages":"148","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"102"},{"filePath":"149","messages":"150","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"151","usedDeprecatedRules":"102"},{"filePath":"152","messages":"153","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"154","usedDeprecatedRules":"102"},{"filePath":"155","messages":"156","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"102"},{"filePath":"157","messages":"158","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"159","usedDeprecatedRules":"102"},{"filePath":"160","messages":"161","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"102"},{"filePath":"162","messages":"163","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"102"},{"filePath":"164","messages":"165","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"102"},{"filePath":"166","messages":"167","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"102"},{"filePath":"168","messages":"169","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"102"},{"filePath":"170","messages":"171","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"102"},{"filePath":"172","messages":"173","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"102"},{"filePath":"174","messages":"175","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"102"},{"filePath":"176","messages":"177","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"178","usedDeprecatedRules":"102"},{"filePath":"179","messages":"180","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"102"},{"filePath":"181","messages":"182","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"102"},{"filePath":"183","messages":"184","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"102"},{"filePath":"185","messages":"186","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"187","usedDeprecatedRules":"102"},{"filePath":"188","messages":"189","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"190","usedDeprecatedRules":"102"},{"filePath":"191","messages":"192","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"193","usedDeprecatedRules":"102"},{"filePath":"194","messages":"195","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"102"},{"filePath":"196","messages":"197","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"102"},{"filePath":"198","messages":"199","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"102"},{"filePath":"200","messages":"201","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"102"},{"filePath":"202","messages":"203","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"102"},{"filePath":"204","messages":"205","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"206","usedDeprecatedRules":"102"},{"filePath":"207","messages":"208","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"102"},{"filePath":"209","messages":"210","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"102"},"/Users/boyang/code/react/fake-jira/src/index.tsx",[],["211","212"],"/Users/boyang/code/react/fake-jira/src/reportWebVitals.ts",[],"/Users/boyang/code/react/fake-jira/src/App.tsx",["213","214"],"/Users/boyang/code/react/fake-jira/src/context/index.tsx",[],"/Users/boyang/code/react/fake-jira/src/context/user-cotext.tsx",[],"/Users/boyang/code/react/fake-jira/src/models/user.ts",[],"/Users/boyang/code/react/fake-jira/src/utils/index.ts",["215","216"],"import { useEffect, useRef, useState } from 'react';\n\n/**\n * 是否为 null, undefined, '', 等\n */\nexport const isFalsy = (value: unknown) => (value === 0 ? false : !value)\n/**\n * {a: 0, b: null} --> {a: 0}\n */\nexport const cleanObj = (obj?: object) => {\n    if(!obj) {\n        return {}\n    }\n    const res = {...obj}\n    Object.keys(res).forEach(key => {\n        // @ts-ignore\n        const v = res[key]\n        if(isFalsy(v)) {\n            // @ts-ignore\n            delete res[key]\n        }\n    })\n    return res\n}\n/**\n * 防抖\n */\nexport const useDebounce = <V>(value: V, delay=200) => {\n    const [debouncedValue, setDebouncedValue] = useState(value)\n    useEffect(() => {\n        const timer = setTimeout(() => setDebouncedValue(value), delay)\n        return () => clearTimeout(timer)\n    }, [value])\n\n    return debouncedValue\n}\n/**\n * 生命周期mount\n */\nexport const useMount = (cb: () => void) => {\n    useEffect(() => {\n        cb()\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [])\n}\n/**\n * 设置页面标题\n */\nexport const useTitle = (title: string) => {\n    const defaultTitle = useRef(document.title)\n\n    useEffect(() => {\n        document.title = title\n    }, [title])\n\n    useEffect(() => {\n        return () => {\n            document.title = defaultTitle.current\n        }\n    }, [])\n}\n/**\n * 转成数字\n */\nexport const toNumber = (value: unknown) => {\n    const num = Number(value)\n    return isNaN(num) ? 0 : num\n}","/Users/boyang/code/react/fake-jira/src/screens/project-list/index.tsx",[],"/Users/boyang/code/react/fake-jira/src/utils/http.ts",[],"/Users/boyang/code/react/fake-jira/src/screens/project-list/search.tsx",[],"/Users/boyang/code/react/fake-jira/src/utils/use-users.ts",[],"/Users/boyang/code/react/fake-jira/src/utils/use-async.ts",[],"/Users/boyang/code/react/fake-jira/src/components/lib.tsx",[],"/Users/boyang/code/react/fake-jira/src/components/header/index.tsx",[],"/Users/boyang/code/react/fake-jira/src/screens/project/index.tsx",[],"/Users/boyang/code/react/fake-jira/src/screens/epic/index.tsx",[],"/Users/boyang/code/react/fake-jira/src/screens/kanban/index.tsx",["217"],"import styled from '@emotion/styled';\nimport { useKanbans } from 'models/kanban';\nimport { useProject } from \"models/project\";\nimport React, { FC } from \"react\";\nimport { useTitle } from \"utils\";\nimport XKanbancolumn from './kanban-column';\nimport XAddKanban from './kanban-column/add-kanban';\nimport XKanbanSearch from './kanban-search';\nimport { useProjectInUrl } from \"./utils\";\n\nconst PKanban: FC = () => {\n    useTitle(\"看板列表\");\n    const project = useProjectInUrl()\n    const kanbans = useKanbans()\n    \n    return <CSS>\n        <h1>{project.data?.name}看板</h1>\n\n        <XKanbanSearch />\n\n        <div className=\"container\">\n            {\n                kanbans.data?.map(item => <XKanbancolumn \n                    info={item} \n                    key={item.id || 0} \n                    className='column'\n                />)\n            }\n            <XAddKanban />\n        </div>\n    </CSS>\n}\n\nexport default PKanban\n\n\nconst CSS = styled.div`\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    .container {\n        display: flex;\n        flex: 1;\n        overflow: scroll;\n        .column {\n            margin-right: 1.5rem;\n        }\n    }\n`","/Users/boyang/code/react/fake-jira/src/utils/use-url-params.ts",["218"],"import { useMemo } from \"react\"\nimport { URLSearchParamsInit, useSearchParams } from \"react-router-dom\"\nimport { cleanObj } from \"utils\"\n\nfunction useUrlParams<K extends string>(keys: K[]) {\n        \n    const [searchParams, setSearchParams] = useSearchParams()\n\n    const params = useMemo(() => {\n        return keys.reduce((pre, key) => ({\n            ...pre,\n            [key]: searchParams.get(key)\n        }), {} as {[x in K]: string})\n    }, [searchParams])\n\n    const setParams = (obj: Partial<{[x in K]: any}>) => {\n        let o = cleanObj({\n            ...Object.fromEntries(searchParams),\n            ...obj,\n        }) as URLSearchParamsInit\n        setSearchParams(o)\n    }\n\n    return [\n        params,\n        setParams\n    ] as const\n}\n\nexport default useUrlParams","/Users/boyang/code/react/fake-jira/src/router.tsx",["219"],"import XHeader from 'components/header'\nimport React, { FC } from 'react'\nimport { BrowserRouter, Navigate, Route, Routes } from 'react-router-dom'\nimport PProject from 'screens/project'\nimport PageProjectList from 'screens/project-list'\n\nconst XRouter: FC = () => {\n\n    return <div>\n        <XHeader />\n        <Routes>\n            <Route path='/projects' element={<PageProjectList/>} />\n            <Route path='/projects/:id/*' element={<PProject/>} />\n            <Navigate to='/projects' />\n        </Routes>\n\n    </div>\n}\n\nexport default XRouter\n","/Users/boyang/code/react/fake-jira/src/logout/index.tsx",[],"/Users/boyang/code/react/fake-jira/src/logout/register.tsx",[],"/Users/boyang/code/react/fake-jira/src/logout/login.tsx",[],"/Users/boyang/code/react/fake-jira/src/screens/project-list/use-projects-param.ts",["220"],"import { useMemo } from \"react\"\nimport { cleanObj } from \"utils\"\nimport useUrlParams from \"utils/use-url-params\"\n\nexport default function useProjectsParam() {\n    const [param, setParams] = useUrlParams(['name', 'personId'])\n\n    const p = useMemo(() => {\n        return {\n            ...param,\n            personId: Number(param.personId) || undefined\n        }\n    }, [param])\n\n    return {\n        param: p,\n        setParams\n    }\n}","/Users/boyang/code/react/fake-jira/src/components/id-select/index.tsx",["221"],"import { Select } from \"antd\";\nimport React, { FC } from \"react\";\nimport { toNumber } from \"utils\";\nimport useUsers from \"utils/use-users\";\n\ntype selectProps = React.ComponentProps<typeof Select>\n\ninterface IXUserSelect extends Omit<selectProps, 'value' | 'options' | 'onChange'> {\n    value?: number | string | null | undefined\n    defaultName: string\n    onChange?: (v: number) => void\n    options?: {name: string, id: number}[]\n}\n\nconst XIdSelect: FC<IXUserSelect> = ({value, defaultName, options, onChange, ...restProps}) => {\n    return <Select \n        {...restProps}\n        onChange={v => onChange?.(toNumber(v))}\n        value={ options?.length ? toNumber(value) : 0} >\n        {\n            defaultName &&\n            <Select.Option value={0} >{defaultName}</Select.Option>\n        }{\n            options?.map(item => <Select.Option key={item.id} value={item.id} >{item.name}</Select.Option>)\n        }\n    </Select>\n}\n\nexport default XIdSelect","/Users/boyang/code/react/fake-jira/src/components/collection/index.tsx",[],"/Users/boyang/code/react/fake-jira/src/components/alert-project-form/index.tsx",["222"],"import styled from \"@emotion/styled\";\nimport { Drawer, Spin } from \"antd\";\nimport { useForm } from \"antd/lib/form/Form\";\nimport { useAddProject, useEditProject, useProjectsQuery } from \"models/project\";\nimport React, { FC, useEffect } from \"react\";\nimport XProjectForm from \"./project-form\";\nimport { useAlertProject } from \"./use-alert-project\";\n\nconst XAlertProjectForm: FC = () => {\n\n    const formModel = useAlertProject()\n    const useMutate = formModel.data ? useEditProject : useAddProject\n    const action = useMutate(\n        useProjectsQuery()\n    )\n    const [form] = useForm()\n    const submit = async (data: any) => {\n        await action.mutateAsync({...formModel.data, ...data})\n        close()\n    }\n\n    const close = () => {\n        form.resetFields()\n        formModel.close()\n    }\n\n    useEffect(() => {\n        form.setFieldsValue(formModel.data)\n    }, [formModel.data])\n\n    return <CSS>\n        <Drawer \n            visible={formModel.show} \n            onClose={close} \n            forceRender={true}\n            width='100%' >\n            {\n                formModel.isLoading \n                ? <Spin size='large' />\n                : <XProjectForm \n                    form={form} \n                    loading={action.isLoading} \n                    onFinish={submit} \n                />\n            }    \n         </Drawer>\n    </CSS>\n}\n\nexport default XAlertProjectForm\n\nconst CSS = styled.div`\n    .ant-spin-spinning {\n        margin: 10vh auto;\n    }\n`;","/Users/boyang/code/react/fake-jira/src/models/alert.ts",[],"/Users/boyang/code/react/fake-jira/src/components/alert-project-form/project-form.tsx",[],"/Users/boyang/code/react/fake-jira/src/components/user-select/index.tsx",[],"/Users/boyang/code/react/fake-jira/src/components/err-box/index.tsx",[],"/Users/boyang/code/react/fake-jira/src/components/alert-project-form/use-alert-project.ts",[],"/Users/boyang/code/react/fake-jira/src/screens/project-list/more.tsx",[],"/Users/boyang/code/react/fake-jira/src/screens/project-list/table.tsx",[],"/Users/boyang/code/react/fake-jira/src/models/query-key.ts",[],"/Users/boyang/code/react/fake-jira/src/models/project.ts",["223"],"import { EQueryKey, useAddConfig, useDelConfig, useUpdataConfig } from \"models/query-key\";\nimport { useMemo } from \"react\";\nimport { QueryKey, useMutation, useQuery, useQueryClient } from \"react-query\";\nimport useProjectsParam from \"screens/project-list/use-projects-param\";\nimport { cleanObj } from \"utils\";\nimport { useHttp } from \"utils/http\";\n\nexport interface IProject {\n    id: number;\n    name: string;\n    personId: number;\n    pin: boolean;\n    organization: string;\n    created: string;\n}\n/**\n * 获取所有projects\n */\nexport function useProjects(params?: Partial<IProject>) {\n    const client = useHttp();\n\n    const data = useMemo(() => {\n        return cleanObj(params)\n    }, [params])\n\n    const getData = () => client(EQueryKey.projects, {data})\n\n    return useQuery<IProject[], Error>( [EQueryKey.projects, data], getData)\n}\n/**\n * 获取某一项project\n */\n export function useProject(id?: number) {\n    const client = useHttp();\n    const getData = async () => {\n        const res = await client(`${EQueryKey.projects}/${id}`)\n        return res\n    }\n\n    return useQuery([EQueryKey.project, id], getData, {\n        enabled: !!id // id为空时不触发\n    })\n}\n/**\n * 更新project\n */\nexport function useEditProject(queryKey: QueryKey) {\n    const client = useHttp();\n\n    const updata = (params: Partial<IProject>) => client(`${EQueryKey.projects}/${params.id}`, {\n        data: params,\n        method: 'PATCH'\n    })\n    \n    return useMutation(updata, useUpdataConfig(queryKey))\n}\n/**\n * 添加project\n */\nexport function useAddProject(queryKey: QueryKey) {\n    const client = useHttp()\n\n    const add = (params: Partial<IProject>) => client(EQueryKey.projects, {\n        data: params,\n        method: 'POST',\n    })\n\n    return useMutation(add, useAddConfig(queryKey))\n}\n/**\n * 删除project\n */\nexport function useDeleteProject(queryKey: QueryKey) {\n    const client = useHttp()\n\n    const del = (params: Partial<IProject>) => client(`${EQueryKey.projects}/${params.id}`, {\n        method: \"DELETE\",\n    })\n\n    return useMutation(del, useDelConfig(queryKey))\n}\n\nexport function useProjectsQuery() {\n    const { param } = useProjectsParam()\n    return [EQueryKey.projects, cleanObj(param)]\n}","/Users/boyang/code/react/fake-jira/src/screens/kanban/utils.ts",[],"/Users/boyang/code/react/fake-jira/src/models/kanban.ts",[],"/Users/boyang/code/react/fake-jira/src/screens/kanban/kanban-column/index.tsx",[],"/Users/boyang/code/react/fake-jira/src/models/task.ts",["224"],"import { useMutation, useQuery } from \"react-query\";\nimport useTasksParam, { useProjectIdInUrl } from \"screens/kanban/utils\";\nimport { useHttp } from \"utils/http\";\nimport { EQueryKey, useAddConfig, useDelConfig, useUpdataConfig } from \"./query-key\";\n\nexport interface ITask {\n  id: number;\n  name: string;\n  // 经办人\n  processorId: number;\n  projectId: number;\n  // 任务组\n  epicId: number;\n  kanbanId: number;\n  // bug or task\n  typeId: number;\n  note: string;\n}\n\nexport interface ITaskType {\n  id: number;\n  name: string;\n}\n/**\n * tasks 的querykey\n */\nexport const useTaskQueryKey = () => {\n  const { param } = useTasksParam()  \n  return [EQueryKey.tasks, param]\n}\n/**\n * 获取 tasks\n */\nexport const useTasks = () => {\n  const client = useHttp();\n  \n  const queryKey = useTaskQueryKey()\n  const data = queryKey[1] as any\n  \n  return useQuery<ITask[]>(queryKey, () =>\n    client(\"tasks\", { data })\n  );\n};\n/**\n * 获取 tasktypes\n */\n export const useTaskTypes = () => {\n  const client = useHttp();\n  return useQuery<ITaskType[]>([EQueryKey.taskTypes], () => client(\"taskTypes\"));\n};\n/**\n * 获取某一个 task\n */\n export const useTask = (id?: number) => {\n  const client = useHttp();\n  const getData = () => client(`tasks/${id}`)\n\n  return useQuery<ITask>([EQueryKey.task, {id}], getData, {\n    enabled: !!id\n  })\n}\n/**\n * 添加 task\n */\nexport const useAddTask = () => {\n  const client = useHttp();\n  const queryKey = useTaskQueryKey()\n\n  const addTask = (param: Partial<ITask>) => client('tasks', {\n    data: param,\n    method: 'POST'\n  })\n\n  return useMutation(addTask, useAddConfig(queryKey))\n}\n/**\n * 编辑 task\n */\nexport const useEditTask = () => {\n  const client = useHttp()\n  const queryKeyt = useTaskQueryKey()\n\n  const editTask = (param: Partial<ITask>) => client(`tasks/${param.id}`, {\n    method: 'PATCH',\n    data: param,\n  })\n\n  return useMutation(\n    editTask, \n    useUpdataConfig(queryKeyt)\n  )\n}\n/**\n * 删除 task\n */\nexport const useDeleteTask = () => {\n  const client = useHttp()\n  const queryKey = useTaskQueryKey()\n\n  const deleteTask = (param: Partial<ITask>) => client(`tasks/${param.id}`, {\n    method: 'DELETE'\n  })\n\n  return useMutation(deleteTask, useDelConfig(queryKey))\n}","/Users/boyang/code/react/fake-jira/src/screens/kanban/task-card/index.tsx",["225"],"import { Card } from \"antd\";\nimport AlertModel from \"models/alert\";\nimport { ITask } from \"models/task\";\nimport { FC } from \"react\";\nimport useUrlParams from \"utils/use-url-params\";\nimport XTaskIcon from \"./task-icon\";\nimport XTaskTitle from \"./task-title\";\n\ninterface IXTaskCard {\n    info: ITask\n    className?: string\n}\n\nconst XTaskCard: FC<IXTaskCard> = ({info, className}) => {\n\n    const [param, setParams] = useUrlParams(['name'])\n    const editor = () => {\n        AlertModel.taskForm({taskId: info.id})\n    }\n    \n    return <Card className={className} onClick={editor} >\n        <XTaskTitle txt={info.name} keyword ={param.name} />\n        <XTaskIcon info={info} />\n    </Card>\n}\n\nexport default XTaskCard","/Users/boyang/code/react/fake-jira/src/screens/kanban/kanban-search/index.tsx",["226","227"],"import { Button, Input, Row } from \"antd\";\nimport Form from \"antd/lib/form/Form\";\nimport { XRow } from \"components/css-in-js/row\";\nimport XTaskTypeSelect from \"components/tasktype-select\";\nimport XUserSelect from \"components/user-select\";\nimport React, { FC } from \"react\";\nimport useTasksParam from \"../utils\";\n\nconst XKanbanSearch: FC = () => {\n\n    const {param, setParams, reset} = useTasksParam()\n\n    return <XRow gap={1} marginBottom={2} >\n        <Input \n            placeholder='任务名'\n            style={{width: '20rem'}}\n            value={param.name}\n            onChange={e => setParams({name: e.target.value})}\n        />\n        <XUserSelect \n            defaultName='经办人' \n            value={param.processorId}\n            onChange={value => setParams({processorId: value})}\n        />\n        <XTaskTypeSelect \n            defaultName='类型' \n            value={param.typeId}\n            onChange={value => setParams({typeId: value})}\n        />\n        <Button onClick={reset} >清除筛选器</Button>\n    </XRow>\n}\n\nexport default XKanbanSearch","/Users/boyang/code/react/fake-jira/src/components/tasktype-select/index.tsx",[],"/Users/boyang/code/react/fake-jira/src/components/css-in-js/row.ts",[],"/Users/boyang/code/react/fake-jira/src/screens/kanban/task-card/task-icon.tsx",[],"/Users/boyang/code/react/fake-jira/src/screens/kanban/kanban-column/add-kanban.tsx",[],"/Users/boyang/code/react/fake-jira/src/screens/kanban/kanban-column/add-task.tsx",[],"/Users/boyang/code/react/fake-jira/src/screens/kanban/task-form/index.tsx",["228","229"],"import React, { FC, useEffect, useState } from 'react';\nimport { Modal, Button, Form, Input } from 'antd';\nimport AlertModel, { ITaskForm } from 'models/alert';\nimport { useForm } from 'antd/lib/form/Form';\nimport XUserSelect from 'components/user-select';\nimport XTaskTypeSelect from 'components/tasktype-select';\nimport { ITask, useDeleteTask, useEditTask, useTask } from 'models/task';\n\nconst layout = {\n  labelCol: {span: 8},\n  wrapperCol: {span: 16}\n}\n\nconst XAlertTaskForm: FC = () => {\n  const [show, setShow] = useState(false);\n  const [form] = useForm()\n  const [param, setParam] = useState<ITaskForm>()\n  const {data} = useTask(param?.taskId)\n  const { mutate: updateTask, isLoading: updating } = useEditTask()\n  const { mutate: deleteTask } = useDeleteTask()\n\n  AlertModel.taskForm = (param: ITaskForm) => {\n    setShow(true);\n    setParam(param);\n  }\n\n  const handleOk = () => {\n    // updateTask()\n    updateTask({...data, ...form.getFieldsValue()})\n    setShow(false);\n  };\n\n  const close = () => {\n    form.resetFields();\n    setShow(false);\n  };\n\n  const onDeleteTask = () => {\n    close()\n    Modal.confirm({\n      title: '确认删除任务吗?',\n      onOk: () => {\n        data && deleteTask(data)\n      }\n    })\n  }\n\n  useEffect(() => {\n    if(show && data) {\n      form.setFieldsValue(data)\n    }\n  }, [data, show])\n\n  return <Modal \n        title=\"编辑任务\" \n        okText='确认'\n        cancelText='取消'\n        confirmLoading={updating}\n        visible={show} \n        onOk={handleOk} \n        onCancel={close}\n        forceRender={true}\n      >\n        <Form form={form} {...layout} className='form' >\n          <Form.Item \n            label='任务名' \n            name='name' \n            rules={[{required: true, message: '请输入任务名'}]} >\n            <Input />\n          </Form.Item>\n\n          <Form.Item label='经办人' name='processorId' >\n            <XUserSelect defaultName='经办人' />\n          </Form.Item>\n\n          <Form.Item label='类型' name='typeId' >\n            <XTaskTypeSelect defaultName='类型' />\n          </Form.Item>\n\n          <div style={{textAlign: 'right'}} >\n            <Button danger onClick={onDeleteTask} >删除</Button>\n          </div>\n        </Form>\n    </Modal>\n};\n\nexport default XAlertTaskForm\n","/Users/boyang/code/react/fake-jira/src/screens/kanban/task-card/task-title.tsx",[],"/Users/boyang/code/react/fake-jira/src/screens/kanban/kanban-column/more-kanban.tsx",[],{"ruleId":"230","replacedBy":"231"},{"ruleId":"232","replacedBy":"233"},{"ruleId":"234","severity":1,"message":"235","line":5,"column":8,"nodeType":"236","messageId":"237","endLine":5,"endColumn":25},{"ruleId":"234","severity":1,"message":"238","line":6,"column":8,"nodeType":"236","messageId":"237","endLine":6,"endColumn":22},{"ruleId":"239","severity":1,"message":"240","line":33,"column":8,"nodeType":"241","endLine":33,"endColumn":15,"suggestions":"242"},{"ruleId":"239","severity":1,"message":"243","line":58,"column":43,"nodeType":"236","endLine":58,"endColumn":50},{"ruleId":"234","severity":1,"message":"244","line":3,"column":10,"nodeType":"236","messageId":"237","endLine":3,"endColumn":20},{"ruleId":"239","severity":1,"message":"245","line":14,"column":8,"nodeType":"241","endLine":14,"endColumn":22,"suggestions":"246"},{"ruleId":"234","severity":1,"message":"247","line":3,"column":10,"nodeType":"236","messageId":"237","endLine":3,"endColumn":23},{"ruleId":"234","severity":1,"message":"248","line":2,"column":10,"nodeType":"236","messageId":"237","endLine":2,"endColumn":18},{"ruleId":"234","severity":1,"message":"249","line":4,"column":8,"nodeType":"236","messageId":"237","endLine":4,"endColumn":16},{"ruleId":"239","severity":1,"message":"250","line":29,"column":8,"nodeType":"241","endLine":29,"endColumn":24,"suggestions":"251"},{"ruleId":"234","severity":1,"message":"252","line":3,"column":43,"nodeType":"236","messageId":"237","endLine":3,"endColumn":57},{"ruleId":"234","severity":1,"message":"253","line":2,"column":25,"nodeType":"236","messageId":"237","endLine":2,"endColumn":42},{"ruleId":"234","severity":1,"message":"254","line":16,"column":19,"nodeType":"236","messageId":"237","endLine":16,"endColumn":28},{"ruleId":"234","severity":1,"message":"255","line":1,"column":25,"nodeType":"236","messageId":"237","endLine":1,"endColumn":28},{"ruleId":"234","severity":1,"message":"256","line":2,"column":8,"nodeType":"236","messageId":"237","endLine":2,"endColumn":12},{"ruleId":"234","severity":1,"message":"257","line":7,"column":10,"nodeType":"236","messageId":"237","endLine":7,"endColumn":15},{"ruleId":"239","severity":1,"message":"250","line":52,"column":6,"nodeType":"241","endLine":52,"endColumn":18,"suggestions":"258"},"no-native-reassign",["259"],"no-negated-in-lhs",["260"],"@typescript-eslint/no-unused-vars","'XAlertProjectForm' is defined but never used.","Identifier","unusedVar","'XAlertTaskForm' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'delay'. Either include it or remove the dependency array.","ArrayExpression",["261"],"The ref value 'defaultTitle.current' will likely have changed by the time this effect cleanup function runs. If this ref points to a node rendered by React, copy 'defaultTitle.current' to a variable inside the effect, and use that variable in the cleanup function.","'useProject' is defined but never used.","React Hook useMemo has a missing dependency: 'keys'. Either include it or remove the dependency array.",["262"],"'BrowserRouter' is defined but never used.","'cleanObj' is defined but never used.","'useUsers' is defined but never used.","React Hook useEffect has a missing dependency: 'form'. Either include it or remove the dependency array.",["263"],"'useQueryClient' is defined but never used.","'useProjectIdInUrl' is defined but never used.","'setParams' is assigned a value but never used.","'Row' is defined but never used.","'Form' is defined but never used.","'ITask' is defined but never used.",["264"],"no-global-assign","no-unsafe-negation",{"desc":"265","fix":"266"},{"desc":"267","fix":"268"},{"desc":"269","fix":"270"},{"desc":"271","fix":"272"},"Update the dependencies array to be: [delay, value]",{"range":"273","text":"274"},"Update the dependencies array to be: [keys, searchParams]",{"range":"275","text":"276"},"Update the dependencies array to be: [form, formModel.data]",{"range":"277","text":"278"},"Update the dependencies array to be: [data, form, show]",{"range":"279","text":"280"},[789,796],"[delay, value]",[448,462],"[keys, searchParams]",[876,892],"[form, formModel.data]",[1310,1322],"[data, form, show]"]