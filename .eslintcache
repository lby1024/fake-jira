[{"/Users/boyang/code/react/fake-jira/src/index.tsx":"1","/Users/boyang/code/react/fake-jira/src/reportWebVitals.ts":"2","/Users/boyang/code/react/fake-jira/src/App.tsx":"3","/Users/boyang/code/react/fake-jira/src/authenticated-app.tsx":"4","/Users/boyang/code/react/fake-jira/src/context/index.tsx":"5","/Users/boyang/code/react/fake-jira/src/context/user-cotext.tsx":"6","/Users/boyang/code/react/fake-jira/src/unauthenticated-app/index.tsx":"7","/Users/boyang/code/react/fake-jira/src/unauthenticated-app/login.tsx":"8","/Users/boyang/code/react/fake-jira/src/models/user.ts":"9","/Users/boyang/code/react/fake-jira/src/unauthenticated-app/register.tsx":"10","/Users/boyang/code/react/fake-jira/src/utils/index.ts":"11","/Users/boyang/code/react/fake-jira/src/screens/project-list/index.tsx":"12","/Users/boyang/code/react/fake-jira/src/utils/http.ts":"13","/Users/boyang/code/react/fake-jira/src/screens/project-list/search.tsx":"14","/Users/boyang/code/react/fake-jira/src/utils/use-users.ts":"15","/Users/boyang/code/react/fake-jira/src/utils/use-projects.ts":"16","/Users/boyang/code/react/fake-jira/src/screens/project-list/list.tsx":"17","/Users/boyang/code/react/fake-jira/src/utils/use-async.ts":"18","/Users/boyang/code/react/fake-jira/src/components/lib.tsx":"19"},{"size":718,"mtime":1614873068630,"results":"20","hashOfConfig":"21"},{"size":425,"mtime":1612625316718,"results":"22","hashOfConfig":"21"},{"size":364,"mtime":1614873838685,"results":"23","hashOfConfig":"21"},{"size":1321,"mtime":1614874082008,"results":"24","hashOfConfig":"21"},{"size":355,"mtime":1612711709652,"results":"25","hashOfConfig":"21"},{"size":1456,"mtime":1614598682897,"results":"26","hashOfConfig":"21"},{"size":2283,"mtime":1614874212636,"results":"27","hashOfConfig":"21"},{"size":1153,"mtime":1614587305226,"results":"28","hashOfConfig":"21"},{"size":1938,"mtime":1614353699158,"results":"29","hashOfConfig":"21"},{"size":1463,"mtime":1614586866093,"results":"30","hashOfConfig":"21"},{"size":1293,"mtime":1614872843577,"results":"31","hashOfConfig":"21"},{"size":1076,"mtime":1614873617785,"results":"32","hashOfConfig":"21"},{"size":1208,"mtime":1614099569030,"results":"33","hashOfConfig":"21"},{"size":1433,"mtime":1614348593165,"results":"34","hashOfConfig":"21"},{"size":449,"mtime":1614348593142,"results":"35","hashOfConfig":"21"},{"size":469,"mtime":1614351745394,"results":"36","hashOfConfig":"21"},{"size":1592,"mtime":1614349776159,"results":"37","hashOfConfig":"21"},{"size":1370,"mtime":1614587185504,"results":"38","hashOfConfig":"21"},{"size":640,"mtime":1614594665691,"results":"39","hashOfConfig":"21"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"4nwnzg",{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"53","usedDeprecatedRules":"44"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"62","usedDeprecatedRules":"44"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"73","usedDeprecatedRules":"44"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"76","usedDeprecatedRules":"44"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},"/Users/boyang/code/react/fake-jira/src/index.tsx",[],"/Users/boyang/code/react/fake-jira/src/reportWebVitals.ts",[],["83","84"],"/Users/boyang/code/react/fake-jira/src/App.tsx",[],"/Users/boyang/code/react/fake-jira/src/authenticated-app.tsx",[],"/Users/boyang/code/react/fake-jira/src/context/index.tsx",[],"/Users/boyang/code/react/fake-jira/src/context/user-cotext.tsx",["85"],"import { FullPageError, FullPageLoading } from 'components/lib'\nimport User, { UserForm, IUserInfo } from 'models/user'\nimport React, { FC, useContext, useState } from 'react'\nimport { useMount } from 'utils'\nimport useAsync from 'utils/use-async'\n\nconst UserContext = React.createContext<{\n    user: IUserInfo | null,\n    register: (form: UserForm) => Promise<void>,\n    login: (form: UserForm) => Promise<void>,\n    logout: () => Promise<void>,\n}|undefined>(undefined)\nUserContext.displayName = 'UserContext'\n\nexport const UserProvider: FC = (props) => {\n    const user = useAsync<IUserInfo|null>()\n\n    useMount(() => {\n        user.run(User.bootstrapUser())\n    })\n\n    const register = (form: UserForm) => User.registry(form).then(res => user.setData(res))\n    const login = (form: UserForm) => User.login(form).then(user.setData) // 一个意思: .then(res => setUser(res))\n    const logout = () => User.logout().then(() => user.setData(null))\n\n    if(user.isIdle || user.isLoading) {\n        return <FullPageLoading/>\n    }\n\n    if(user.error?.message) {\n        return <FullPageError error={user.error?.message} />\n    }\n\n    return <UserContext.Provider \n        value={{user: user.data, register, login, logout}} >\n            {props.children}\n    </UserContext.Provider>\n}\n\nexport const useUser = () => {\n    const ctx = useContext(UserContext)\n    if(!ctx) {\n        throw new Error('useUser 必须在provider 中使用')\n    }\n    return ctx\n}","/Users/boyang/code/react/fake-jira/src/unauthenticated-app/index.tsx",[],"/Users/boyang/code/react/fake-jira/src/unauthenticated-app/login.tsx",[],"/Users/boyang/code/react/fake-jira/src/models/user.ts",[],"/Users/boyang/code/react/fake-jira/src/unauthenticated-app/register.tsx",["86"],"import React, { FC } from \"react\";\nimport { Form, Input } from 'antd';\nimport { useUser } from 'context/user-cotext';\nimport { UserForm } from 'models/user';\nimport FormItem from 'antd/lib/form/FormItem';\nimport { LongButton } from 'unauthenticated-app';\n\ninterface IRegisterScreen {\n    onError: (err: Error) => void\n}\n\ninterface IForm {\n  username: string;\n  password: string;\n  cpassword: string;\n}\n\nexport const RegisterScreen: FC<IRegisterScreen> = (props) => {\n\n  const { register } = useUser()\n\n  const handleSubmit = ({ cpassword, ...params }: IForm) => {\n    if(cpassword !== params.password) {\n      const error = new Error('请确保两次密码相同')\n      props.onError(error)\n      return\n    }\n    register(params).catch(err => props.onError(err))\n  };\n\n  return (\n    <Form onFinish={handleSubmit} >\n\n      <FormItem name='username' rules={[{required: true, message: '请输入用户名'}]} >\n        <Input placeholder='用户名' type='text' />\n      </FormItem>\n\n      <FormItem name='password' rules={[{required: true, message: '请输入密码'}]} >\n        <Input.Password placeholder='密码' type='text' />\n      </FormItem>\n\n      <FormItem name='cpassword' rules={[{required: true, message: '请再次输入密码'}]} >\n        <Input.Password placeholder='确认密码' type='text' />\n      </FormItem>\n\n      <FormItem>\n        <LongButton htmlType='submit' type='primary' >注册</LongButton>\n      </FormItem>\n\n    </Form>\n  );\n};\n","/Users/boyang/code/react/fake-jira/src/utils/index.ts",["87","88","89"],"/Users/boyang/code/react/fake-jira/src/screens/project-list/index.tsx",[],"/Users/boyang/code/react/fake-jira/src/utils/http.ts",[],"/Users/boyang/code/react/fake-jira/src/screens/project-list/search.tsx",[],"/Users/boyang/code/react/fake-jira/src/utils/use-users.ts",["90"],"import { IUserInfo } from \"models/user\"\nimport { useEffect } from \"react\"\nimport { cleanObj } from \"utils\"\nimport { useHttp } from \"./http\"\nimport useAsync from \"./use-async\"\n\nfunction useUsers(params?: Partial<IUserInfo>) {\n    const client = useHttp()\n    const { run, ...res } = useAsync<IUserInfo[]>()\n\n    useEffect(() => {\n        run(client('users', {data: cleanObj(params || {})}))\n    }, [params])\n\n    return res\n}\n\nexport default useUsers","/Users/boyang/code/react/fake-jira/src/utils/use-projects.ts",["91"],"import { useEffect } from \"react\";\nimport { Project } from \"screens/project-list/list\";\nimport { cleanObj } from \"utils\";\nimport { useHttp } from \"./http\"\nimport useAsync from \"./use-async\";\n\nfunction useProjects(params?: Partial<Project>) {\n    const client = useHttp();\n    const { run, ...res } = useAsync<Project[]>()\n\n    useEffect(() => {\n        run(client('projects', {data: cleanObj(params||{})}))\n    }, [params])\n\n    return res\n}\n\nexport default useProjects","/Users/boyang/code/react/fake-jira/src/screens/project-list/list.tsx",[],"/Users/boyang/code/react/fake-jira/src/utils/use-async.ts",[],"/Users/boyang/code/react/fake-jira/src/components/lib.tsx",[],{"ruleId":"92","replacedBy":"93"},{"ruleId":"94","replacedBy":"95"},{"ruleId":"96","severity":1,"message":"97","line":3,"column":33,"nodeType":"98","messageId":"99","endLine":3,"endColumn":41},{"ruleId":"96","severity":1,"message":"100","line":4,"column":10,"nodeType":"98","messageId":"99","endLine":4,"endColumn":18},{"ruleId":"101","severity":1,"message":"102","line":12,"column":30,"nodeType":"103","messageId":"104","endLine":12,"endColumn":32},{"ruleId":"105","severity":1,"message":"106","line":30,"column":8,"nodeType":"107","endLine":30,"endColumn":15,"suggestions":"108"},{"ruleId":"105","severity":1,"message":"109","line":55,"column":43,"nodeType":"98","endLine":55,"endColumn":50},{"ruleId":"105","severity":1,"message":"110","line":13,"column":8,"nodeType":"107","endLine":13,"endColumn":16,"suggestions":"111"},{"ruleId":"105","severity":1,"message":"110","line":13,"column":8,"nodeType":"107","endLine":13,"endColumn":16,"suggestions":"112"},"no-native-reassign",["113"],"no-negated-in-lhs",["114"],"@typescript-eslint/no-unused-vars","'useState' is defined but never used.","Identifier","unusedVar","'UserForm' is defined but never used.","array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'delay'. Either include it or remove the dependency array.","ArrayExpression",["115"],"The ref value 'defaultTitle.current' will likely have changed by the time this effect cleanup function runs. If this ref points to a node rendered by React, copy 'defaultTitle.current' to a variable inside the effect, and use that variable in the cleanup function.","React Hook useEffect has missing dependencies: 'client' and 'run'. Either include them or remove the dependency array.",["116"],["117"],"no-global-assign","no-unsafe-negation",{"desc":"118","fix":"119"},{"desc":"120","fix":"121"},{"desc":"120","fix":"122"},"Update the dependencies array to be: [delay, value]",{"range":"123","text":"124"},"Update the dependencies array to be: [client, params, run]",{"range":"125","text":"126"},{"range":"127","text":"126"},[745,752],"[delay, value]",[397,405],"[client, params, run]",[414,422]]