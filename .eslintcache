[{"/Users/boyang/code/react/fake-jira/src/index.tsx":"1","/Users/boyang/code/react/fake-jira/src/reportWebVitals.ts":"2","/Users/boyang/code/react/fake-jira/src/App.tsx":"3","/Users/boyang/code/react/fake-jira/src/context/index.tsx":"4","/Users/boyang/code/react/fake-jira/src/context/user-cotext.tsx":"5","/Users/boyang/code/react/fake-jira/src/models/user.ts":"6","/Users/boyang/code/react/fake-jira/src/utils/index.ts":"7","/Users/boyang/code/react/fake-jira/src/screens/project-list/index.tsx":"8","/Users/boyang/code/react/fake-jira/src/utils/http.ts":"9","/Users/boyang/code/react/fake-jira/src/screens/project-list/search.tsx":"10","/Users/boyang/code/react/fake-jira/src/utils/use-users.ts":"11","/Users/boyang/code/react/fake-jira/src/utils/use-projects.ts":"12","/Users/boyang/code/react/fake-jira/src/screens/project-list/list.tsx":"13","/Users/boyang/code/react/fake-jira/src/utils/use-async.ts":"14","/Users/boyang/code/react/fake-jira/src/components/lib.tsx":"15","/Users/boyang/code/react/fake-jira/src/components/header/index.tsx":"16","/Users/boyang/code/react/fake-jira/src/screens/project/index.tsx":"17","/Users/boyang/code/react/fake-jira/src/screens/epic/index.tsx":"18","/Users/boyang/code/react/fake-jira/src/screens/kanban/index.tsx":"19","/Users/boyang/code/react/fake-jira/src/utils/use-url-params.ts":"20","/Users/boyang/code/react/fake-jira/src/router.tsx":"21","/Users/boyang/code/react/fake-jira/src/logout/index.tsx":"22","/Users/boyang/code/react/fake-jira/src/logout/register.tsx":"23","/Users/boyang/code/react/fake-jira/src/logout/login.tsx":"24"},{"size":718,"mtime":1617477015915,"results":"25","hashOfConfig":"26"},{"size":425,"mtime":1617477015916,"results":"27","hashOfConfig":"26"},{"size":300,"mtime":1617625827866,"results":"28","hashOfConfig":"26"},{"size":355,"mtime":1617477015915,"results":"29","hashOfConfig":"26"},{"size":1456,"mtime":1617477015915,"results":"30","hashOfConfig":"26"},{"size":1938,"mtime":1617477015915,"results":"31","hashOfConfig":"26"},{"size":1427,"mtime":1617624403788,"results":"32","hashOfConfig":"26"},{"size":1104,"mtime":1617477441921,"results":"33","hashOfConfig":"26"},{"size":1208,"mtime":1617477015917,"results":"34","hashOfConfig":"26"},{"size":1433,"mtime":1617477015916,"results":"35","hashOfConfig":"26"},{"size":449,"mtime":1617477015917,"results":"36","hashOfConfig":"26"},{"size":469,"mtime":1617477015917,"results":"37","hashOfConfig":"26"},{"size":1752,"mtime":1617477015916,"results":"38","hashOfConfig":"26"},{"size":1370,"mtime":1617477015917,"results":"39","hashOfConfig":"26"},{"size":640,"mtime":1617477015915,"results":"40","hashOfConfig":"26"},{"size":1099,"mtime":1617477015915,"results":"41","hashOfConfig":"26"},{"size":434,"mtime":1617477015916,"results":"42","hashOfConfig":"26"},{"size":138,"mtime":1617477015916,"results":"43","hashOfConfig":"26"},{"size":144,"mtime":1617477015916,"results":"44","hashOfConfig":"26"},{"size":783,"mtime":1617621998293,"results":"45","hashOfConfig":"26"},{"size":622,"mtime":1617624835527,"results":"46","hashOfConfig":"26"},{"size":2261,"mtime":1617625178297,"results":"47","hashOfConfig":"26"},{"size":1450,"mtime":1617625710861,"results":"48","hashOfConfig":"26"},{"size":1140,"mtime":1617625710861,"results":"49","hashOfConfig":"26"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},"4nwnzg",{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"61","usedDeprecatedRules":"52"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"66","usedDeprecatedRules":"52"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"69","usedDeprecatedRules":"52"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"76","usedDeprecatedRules":"52"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"79","usedDeprecatedRules":"52"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"90","usedDeprecatedRules":"52"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"95","messages":"96","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"97","usedDeprecatedRules":"52"},{"filePath":"98","messages":"99","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"100","messages":"101","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"102","messages":"103","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"104","messages":"105","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/boyang/code/react/fake-jira/src/index.tsx",[],["106","107"],"/Users/boyang/code/react/fake-jira/src/reportWebVitals.ts",[],"/Users/boyang/code/react/fake-jira/src/App.tsx",[],"/Users/boyang/code/react/fake-jira/src/context/index.tsx",[],"/Users/boyang/code/react/fake-jira/src/context/user-cotext.tsx",["108"],"import { FullPageError, FullPageLoading } from 'components/lib'\nimport User, { UserForm, IUserInfo } from 'models/user'\nimport React, { FC, useContext, useState } from 'react'\nimport { useMount } from 'utils'\nimport useAsync from 'utils/use-async'\n\nconst UserContext = React.createContext<{\n    user: IUserInfo | null,\n    register: (form: UserForm) => Promise<void>,\n    login: (form: UserForm) => Promise<void>,\n    logout: () => Promise<void>,\n}|undefined>(undefined)\nUserContext.displayName = 'UserContext'\n\nexport const UserProvider: FC = (props) => {\n    const user = useAsync<IUserInfo|null>()\n\n    useMount(() => {\n        user.run(User.bootstrapUser())\n    })\n\n    const register = (form: UserForm) => User.registry(form).then(res => user.setData(res))\n    const login = (form: UserForm) => User.login(form).then(user.setData) // 一个意思: .then(res => setUser(res))\n    const logout = () => User.logout().then(() => user.setData(null))\n\n    if(user.isIdle || user.isLoading) {\n        return <FullPageLoading/>\n    }\n\n    if(user.error?.message) {\n        return <FullPageError error={user.error?.message} />\n    }\n\n    return <UserContext.Provider \n        value={{user: user.data, register, login, logout}} >\n            {props.children}\n    </UserContext.Provider>\n}\n\nexport const useUser = () => {\n    const ctx = useContext(UserContext)\n    if(!ctx) {\n        throw new Error('useUser 必须在provider 中使用')\n    }\n    return ctx\n}","/Users/boyang/code/react/fake-jira/src/models/user.ts",[],"/Users/boyang/code/react/fake-jira/src/utils/index.ts",["109","110","111"],"import { useEffect, useRef, useState } from 'react';\n\n/**\n * 是否为 null, undefined, '', 等\n */\nexport const isFalsy = (value: unknown) => (value === 0 ? false : !value)\n/**\n * {a: 0, b: null} --> {a: 0}\n */\nexport const cleanObj = (obj: object) => {\n    const res = {...obj}\n    Object.keys(res).map(key => {\n        // @ts-ignore\n        const v = res[key]\n        if(isFalsy(v)) {\n            // @ts-ignore\n            delete res[key]\n        }\n    })\n    return res\n}\n/**\n * 防抖\n */\nexport const useDebounce = <V>(value: V, delay=200) => {\n    const [debouncedValue, setDebouncedValue] = useState(value)\n    useEffect(() => {\n        const timer = setTimeout(() => setDebouncedValue(value), delay)\n        return () => clearTimeout(timer)\n    }, [value])\n\n    return debouncedValue\n}\n/**\n * 生命周期mount\n */\nexport const useMount = (cb: () => void) => {\n    useEffect(() => {\n        cb()\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [])\n}\n/**\n * 设置页面标题\n */\nexport const useTitle = (title: string) => {\n    const defaultTitle = useRef(document.title)\n\n    useEffect(() => {\n        document.title = title\n    }, [title])\n\n    useEffect(() => {\n        return () => {\n            document.title = defaultTitle.current\n        }\n    }, [])\n}\n/**\n * 转成数字\n */\nexport const toNumber = (value: unknown) => {\n    const num = Number(value)\n    return isNaN(num) ? 0 : num\n}","/Users/boyang/code/react/fake-jira/src/screens/project-list/index.tsx",["112"],"import React, { FC, useState } from 'react'\nimport { useDebounce, useTitle } from 'utils'\nimport List from './list'\nimport SearchPanel from './search'\nimport styled from '@emotion/styled';\nimport useProjects from 'utils/use-projects'\nimport useUsers from 'utils/use-users'\nimport { Typography } from 'antd';\nimport useUrlParams from 'utils/use-url-params';\n\nconst PageProjectList: FC = () => {\n    useTitle('项目列表')\n    const [param, setParams] = useUrlParams(['name', 'personId'])\n    const debouncedParam = useDebounce(param, 200)\n    const projects = useProjects(debouncedParam)\n    const users = useUsers()\n\n    return <Container>\n        <h1>项目列表</h1>\n        <SearchPanel users={users.data || []} param={param} setParam={setParams} />\n        {projects.error && <Typography.Text type='danger' >{projects.error.message}</Typography.Text>}\n        <List \n            users={users.data || []} \n            list={projects.data || []} \n            loading={projects.isLoading}\n        />\n    </Container>\n}\n\nexport default PageProjectList\n\nconst Container = styled.div`\npadding: 3.2rem;\n`","/Users/boyang/code/react/fake-jira/src/utils/http.ts",[],"/Users/boyang/code/react/fake-jira/src/screens/project-list/search.tsx",[],"/Users/boyang/code/react/fake-jira/src/utils/use-users.ts",["113"],"import { IUserInfo } from \"models/user\"\nimport { useEffect } from \"react\"\nimport { cleanObj } from \"utils\"\nimport { useHttp } from \"./http\"\nimport useAsync from \"./use-async\"\n\nfunction useUsers(params?: Partial<IUserInfo>) {\n    const client = useHttp()\n    const { run, ...res } = useAsync<IUserInfo[]>()\n\n    useEffect(() => {\n        run(client('users', {data: cleanObj(params || {})}))\n    }, [params])\n\n    return res\n}\n\nexport default useUsers","/Users/boyang/code/react/fake-jira/src/utils/use-projects.ts",["114"],"import { useEffect } from \"react\";\nimport { Project } from \"screens/project-list/list\";\nimport { cleanObj } from \"utils\";\nimport { useHttp } from \"./http\"\nimport useAsync from \"./use-async\";\n\nfunction useProjects(params?: Partial<Project>) {\n    const client = useHttp();\n    const { run, ...res } = useAsync<Project[]>()\n\n    useEffect(() => {\n        run(client('projects', {data: cleanObj(params||{})}))\n    }, [params])\n\n    return res\n}\n\nexport default useProjects","/Users/boyang/code/react/fake-jira/src/screens/project-list/list.tsx",[],"/Users/boyang/code/react/fake-jira/src/utils/use-async.ts",[],"/Users/boyang/code/react/fake-jira/src/components/lib.tsx",[],"/Users/boyang/code/react/fake-jira/src/components/header/index.tsx",[],"/Users/boyang/code/react/fake-jira/src/screens/project/index.tsx",["115"],"import { FC } from \"react\";\nimport { BrowserRouter, Route, Routes } from \"react-router-dom\";\nimport PEpic from \"screens/epic\";\nimport PKanban from \"screens/kanban\";\n\nconst PProject: FC = () => {\n    \n    return <div className='' >\n        left-rihgt\n        <Routes>\n            <Route path='/kanban' element={<PKanban/>} />\n            <Route path='/epic' element={<PEpic/>} />\n        </Routes>\n    </div>\n}\n\nexport default PProject","/Users/boyang/code/react/fake-jira/src/screens/epic/index.tsx",[],"/Users/boyang/code/react/fake-jira/src/screens/kanban/index.tsx",[],"/Users/boyang/code/react/fake-jira/src/utils/use-url-params.ts",["116"],"import { useMemo } from \"react\"\nimport { URLSearchParamsInit, useSearchParams } from \"react-router-dom\"\nimport { cleanObj } from \"utils\"\n\nfunction useUrlParams<K extends string>(keys: K[]) {\n        \n    const [searchParams, setSearchParams] = useSearchParams()\n\n    const params = useMemo(() => {\n        return keys.reduce((pre, key) => ({\n            ...pre,\n            [key]: searchParams.get(key)\n        }), {} as {[x in K]: string})\n    }, [searchParams])\n\n    const setParams = (obj: Partial<{[x in K]: string}>) => {\n        let o = cleanObj({\n            ...Object.fromEntries(searchParams),\n            ...obj,\n        }) as URLSearchParamsInit\n        setSearchParams(o)\n    }\n\n    return [\n        params,\n        setParams\n    ] as const\n}\n\nexport default useUrlParams","/Users/boyang/code/react/fake-jira/src/router.tsx",[],"/Users/boyang/code/react/fake-jira/src/logout/index.tsx",[],"/Users/boyang/code/react/fake-jira/src/logout/register.tsx",["117"],"/Users/boyang/code/react/fake-jira/src/logout/login.tsx",[],{"ruleId":"118","replacedBy":"119"},{"ruleId":"120","replacedBy":"121"},{"ruleId":"122","severity":1,"message":"123","line":3,"column":33,"nodeType":"124","messageId":"125","endLine":3,"endColumn":41},{"ruleId":"126","severity":1,"message":"127","line":12,"column":30,"nodeType":"128","messageId":"129","endLine":12,"endColumn":32},{"ruleId":"130","severity":1,"message":"131","line":30,"column":8,"nodeType":"132","endLine":30,"endColumn":15,"suggestions":"133"},{"ruleId":"130","severity":1,"message":"134","line":55,"column":43,"nodeType":"124","endLine":55,"endColumn":50},{"ruleId":"122","severity":1,"message":"123","line":1,"column":21,"nodeType":"124","messageId":"125","endLine":1,"endColumn":29},{"ruleId":"130","severity":1,"message":"135","line":13,"column":8,"nodeType":"132","endLine":13,"endColumn":16,"suggestions":"136"},{"ruleId":"130","severity":1,"message":"135","line":13,"column":8,"nodeType":"132","endLine":13,"endColumn":16,"suggestions":"137"},{"ruleId":"122","severity":1,"message":"138","line":2,"column":10,"nodeType":"124","messageId":"125","endLine":2,"endColumn":23},{"ruleId":"130","severity":1,"message":"139","line":14,"column":8,"nodeType":"132","endLine":14,"endColumn":22,"suggestions":"140"},{"ruleId":"122","severity":1,"message":"141","line":4,"column":10,"nodeType":"124","messageId":"125","endLine":4,"endColumn":18},"no-native-reassign",["142"],"no-negated-in-lhs",["143"],"@typescript-eslint/no-unused-vars","'useState' is defined but never used.","Identifier","unusedVar","array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'delay'. Either include it or remove the dependency array.","ArrayExpression",["144"],"The ref value 'defaultTitle.current' will likely have changed by the time this effect cleanup function runs. If this ref points to a node rendered by React, copy 'defaultTitle.current' to a variable inside the effect, and use that variable in the cleanup function.","React Hook useEffect has missing dependencies: 'client' and 'run'. Either include them or remove the dependency array.",["145"],["146"],"'BrowserRouter' is defined but never used.","React Hook useMemo has a missing dependency: 'keys'. Either include it or remove the dependency array.",["147"],"'UserForm' is defined but never used.","no-global-assign","no-unsafe-negation",{"desc":"148","fix":"149"},{"desc":"150","fix":"151"},{"desc":"150","fix":"152"},{"desc":"153","fix":"154"},"Update the dependencies array to be: [delay, value]",{"range":"155","text":"156"},"Update the dependencies array to be: [client, params, run]",{"range":"157","text":"158"},{"range":"159","text":"158"},"Update the dependencies array to be: [keys, searchParams]",{"range":"160","text":"161"},[745,752],"[delay, value]",[397,405],"[client, params, run]",[414,422],[448,462],"[keys, searchParams]"]